(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[8],{334:function(e,t,n){"use strict";n.r(t);var a=n(18),s=n(13),c=n(3),r=n(0),i=n(4),l=n(6),o=n(21),u=n(8),m=n(81),j=n(26);var d=n(101),b=n(83);function f(){var e=Object(a.a)(["\n   .form {\n      &__file {\n         display: none;\n      }\n      &__filelabel {\n         align-self: center;\n         margin-left: 2rem;\n         padding: 1rem;\n         margin-right: auto;\n      }\n      &__submitbtn {\n         align-self: center;\n      }\n   }\n"]);return f=function(){return e},e}t.default=Object(i.c)((function(e){var t=e.className,n=Object(d.a)(),a=n.register,i=n.errors,f=n.handleSubmit,p=n.setValue,h=Object(o.c)(),O=Object(s.a)(h,1)[0].user,x=function(){var e=Object(o.c)(),t=Object(s.a)(e,2)[1].setData,n=Object(m.a)((function(e){var n=new FormData;return n.append("name",e.name),n.append("email",e.email),n.append("photo",e.photo[0]),j.c.patch("/updateMe",n).then((function(e){var n=e.data.data;return t(n.user),n.user}))}));return Object(u.a)(Object(u.a)({},n),{},{update:n.mutate})}(),g=x.update,_=x.isSuccess,v=Object(r.useState)(!1),y=Object(s.a)(v,2),k=y[0],w=y[1];return Object(r.useEffect)((function(){O&&(p("name",O.name),p("email",O.email))}),[O,p]),Object(r.useEffect)((function(){if(O&&_){w(!0);var e=setTimeout((function(){w(!1)}),1e3);return function(){return clearTimeout(e)}}}),[O,_]),Object(c.jsxs)(l.c,{width:"12",className:t,children:[_&&k?Object(c.jsx)(b.a,{text:"Update Successfully",severity:"success",fade:k}):null,Object(c.jsxs)(l.g,{width:{desktop:"50%",tabland:"70%",tabport:"90%"},my:"2",children:[Object(c.jsx)(l.t,{modifiers:"big",children:"Your Account Settings"}),Object(c.jsxs)(l.f,{onSubmit:f(g),children:[Object(c.jsxs)(l.f.Group,{mb:"1",children:[Object(c.jsx)(l.l,{modifiers:"large",children:"Name"}),Object(c.jsx)(l.k,{type:"text",name:"name",ref:a({required:"You must specify an name"})}),Object(c.jsx)(l.q,{children:i.name&&i.name.message})]}),Object(c.jsxs)(l.f.Group,{mb:"1",children:[Object(c.jsx)(l.l,{modifiers:"large",children:"Email"}),Object(c.jsx)(l.k,{type:"text",name:"email",ref:a({required:"You must specify an email",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),Object(c.jsx)(l.q,{children:i.email&&i.email.message})]}),Object(c.jsxs)(l.f.Group,{direction:"row",children:[Object(c.jsx)(l.j,{width:{desktop:"5rem"},children:Object(c.jsx)(l.i,{modifiers:"round",src:"".concat("https://simulate-youtube-project.herokuapp.com","/assets/users/default.jpg")})}),Object(c.jsx)(l.k,{type:"file",ref:a,id:"photo",name:"photo",className:"form__file"}),Object(c.jsx)(l.l,{modifiers:"bottomfill",className:"form__filelabel",htmlFor:"photo",children:"Choose New Photo"}),Object(c.jsx)(l.a,{modifiers:["gradient","round"],className:"form__submitbtn",children:"Save Settings"})]})]})]})]})}))(f())}}]);
//# sourceMappingURL=8.012e8c3f.chunk.js.map