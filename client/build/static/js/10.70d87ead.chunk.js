(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[10],{317:function(e,t,n){"use strict";n.r(t);var c=n(5),i=n(7),r=n.n(i),s=n(10),o=n(14),a=n(2),d=n(0),l=n(20),b=n(25),u=n(6),m=n(9),j=n(1),f=n(37),h=n(93),O=n(81),p=n(62),x=n(90),v=n(98),g=n(46),C=n(8),y=n(31),_=n(3),w=(n(12),n(11)),k=n(16),I=n(266),N=n(101),S=n(18),E=n(122),L=n(21),V="undefined"===typeof window?d.useEffect:d.useLayoutEffect,A=d.forwardRef((function(e,t){var n=e.alignItems,c=void 0===n?"center":n,i=e.autoFocus,r=void 0!==i&&i,s=e.button,o=void 0!==s&&s,a=e.children,l=e.classes,b=e.className,u=e.component,m=e.ContainerComponent,j=void 0===m?"li":m,f=e.ContainerProps,h=(f=void 0===f?{}:f).className,O=Object(C.a)(f,["className"]),p=e.dense,x=void 0!==p&&p,v=e.disabled,g=void 0!==v&&v,y=e.disableGutters,k=void 0!==y&&y,A=e.divider,M=void 0!==A&&A,R=e.focusVisibleClassName,D=e.selected,z=void 0!==D&&D,B=Object(C.a)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),G=d.useContext(E.a),H={dense:x||G.dense||!1,alignItems:c},P=d.useRef(null);V((function(){r&&P.current&&P.current.focus()}),[r]);var T=d.Children.toArray(a),F=T.length&&Object(N.a)(T[T.length-1],["ListItemSecondaryAction"]),U=d.useCallback((function(e){P.current=L.findDOMNode(e)}),[]),$=Object(S.a)(U,t),J=Object(_.a)({className:Object(w.a)(l.root,b,H.dense&&l.dense,!k&&l.gutters,M&&l.divider,g&&l.disabled,o&&l.button,"center"!==c&&l.alignItemsFlexStart,F&&l.secondaryAction,z&&l.selected),disabled:g},B),q=u||"li";return o&&(J.component=u||"div",J.focusVisibleClassName=Object(w.a)(l.focusVisible,R),q=I.a),F?(q=J.component||u?q:"div","li"===j&&("li"===q?q="div":"li"===J.component&&(J.component="div")),d.createElement(E.a.Provider,{value:H},d.createElement(j,Object(_.a)({className:Object(w.a)(l.container,h),ref:$},O),d.createElement(q,J,T),T.pop()))):d.createElement(E.a.Provider,{value:H},d.createElement(q,Object(_.a)({ref:$},J),T))})),M=Object(k.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(A),R=d.forwardRef((function(e,t){var n,c=e.classes,i=e.className,r=e.component,s=void 0===r?"li":r,o=e.disableGutters,a=void 0!==o&&o,l=e.ListItemClasses,b=e.role,u=void 0===b?"menuitem":b,m=e.selected,j=e.tabIndex,f=Object(C.a)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(n=void 0!==j?j:-1),d.createElement(M,Object(_.a)({button:!0,role:u,tabIndex:n,component:s,selected:m,disableGutters:a,classes:Object(_.a)({dense:c.dense},l),className:Object(w.a)(c.root,i,m&&c.selected,!a&&c.gutters),ref:t},f))})),D=Object(k.a)((function(e){return{root:Object(_.a)({},e.typography.body1,Object(y.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Object(_.a)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(R),z=n(40),B=Object(z.a)(d.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");function G(){var e=Object(c.a)(["\n   &:not(:last-child) {\n      margin-bottom: 3rem;\n   }\n"]);return G=function(){return e},e}var H=Object(u.c)((function(e){var t=e.comment,n=e.setCurrentTypedComment,c=e.className,i=Object(d.useState)(!1),r=Object(o.a)(i,2),s=r[0],b=r[1],u=Object(f.b)().user,j=Object(x.c)(),h=Object(o.a)(j,2)[1].deleteComment,O=Object(l.h)().videoId,p=Object(d.useRef)(null);return Object(a.jsxs)(m.n,{flexy:"center",className:c,children:[Object(a.jsx)(m.n.Item,{width:"5",children:Object(a.jsx)(m.j,{children:Object(a.jsx)(m.i,{modifiers:"round",src:"".concat("https://simulate-youtube-project.herokuapp.com","/").concat(t.user.photo),alt:"User Image"})})}),Object(a.jsxs)(m.n.Item,{width:"85",spacing:"2.5",children:[Object(a.jsx)(m.p,{modifiers:["small","bold"],children:t.user.name}),Object(a.jsx)(m.p,{modifiers:"small",children:t.comment})]}),u&&u._id===t.user._id?function(e){return Object(a.jsxs)(m.n.Item,{children:[Object(a.jsx)(m.a,{ref:p,onClick:function(){return b((function(e){return!e}))},modifiers:"transparent",children:Object(a.jsx)(m.h,{as:B})}),Object(a.jsxs)(g.a,{open:s,setOpen:b,anchorRef:p,children:[Object(a.jsx)(D,{onClick:function(){return n(e)},children:"Edit"}),Object(a.jsx)(D,{onClick:(t=e._id,function(){h(O,t)}),children:"Delete"})]})]});var t}(t):null]})}))(G());function P(){var e=Object(c.a)(["\n   margin-top: 5rem;\n\n   .comment {\n      &__form {\n         margin: 3rem 0;\n      }\n\n      &__submitbox {\n         margin-top: 1rem;\n         display: flex;\n         justify-content: flex-end;\n      }\n   }\n"]);return P=function(){return e},e}var T=Object(u.c)((function(e){var t,n=e.className,c=Object(f.b)().user,i=Object(x.c)(),b=Object(o.a)(i,2),u=b[0],j=u.comments,h=u.statusComments,O=u.errorComments,p=b[1],C=p.getVideoComments,y=p.createComment,_=p.updateComment,w=Object(v.a)(),k=w.register,I=w.handleSubmit,N=w.setValue,S=w.reset,E=Object(d.useState)(null),L=Object(o.a)(E,2),V=L[0],A=L[1],M=Object(l.h)().videoId;function R(){return(R=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y(M,t),A(null);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(d.useEffect)((function(){C(M)}),[C,M]),Object(d.useEffect)((function(){V&&N("comment",V.comment)}),[V,N]),"idle"===h||"pending"===h?Object(a.jsx)(m.e,{children:Object(a.jsx)(g.e,{modifiers:"dark"})}):"rejected"===h&&O?Object(a.jsx)(g.b,{severity:"error",text:O}):"resolved"===h?Object(a.jsxs)("div",{className:n,children:[c?Object(a.jsxs)(m.f,{className:"comment__form",onSubmit:I(V?function(e){_(M,V._id,e),A(null)}:function(e){return R.apply(this,arguments)}),children:[Object(a.jsx)(m.f.Input,{modifiers:"transparent",type:"text",name:"comment",placeholder:"Add a public comment...",ref:k({required:"Please type your comment"})}),Object(a.jsxs)("div",{className:"comment__submitbox",children:[Object(a.jsx)(m.a,{onClick:function(){S(),A(null)},children:"Cancel"}),Object(a.jsx)(m.a,{modifiers:"secondary",children:"Comment"})]})]}):null,Object(a.jsx)("div",{children:(t=j,null===t||void 0===t?void 0:t.map((function(e){return Object(a.jsx)(H,{comment:e,setCurrentTypedComment:A},e._id)})))})]}):void 0}))(P()),F=n(297);function U(){var e=Object(c.a)(["\n   .video {\n      width: 80%;\n      margin: 0 auto;\n      padding: 2rem 0rem;\n      ","\n\n      &__videobox {\n         box-shadow: var(--shadow-dark-shallow);\n         height: 37.5vw;\n         ","\n      }\n\n      &__titlebox {\n         border-bottom: solid 0.1rem #000;\n         padding: 2rem 1rem;\n      }\n\n      &__subscribebtn {\n         flex: 0 0 15%;\n         margin-left: 2.5%;\n      }\n\n      &__info {\n         padding: 2rem 0;\n         border-bottom: solid 0.1rem #000;\n      }\n   }\n"]);return U=function(){return e},e}t.default=Object(u.c)((function(e){var t=e.history,n=e.className,c=Object(f.b)().user,i=Object(l.h)().videoId,u=Object(h.c)(),j=Object(o.a)(u,2),x=j[0],v=x.video,C=x.statusVideo,y=x.errorVideo,_=j[1],w=_.getVideoById,k=_.videoLikeHandle,I=_.videoSubscribeHandle,N=Object(O.c)(),S=Object(o.a)(N,2),E=S[0].currentUserLike,L=S[1],V=L.getCurrentLike,A=L.createLike,M=L.deleteLike,R=Object(p.c)(),D=Object(o.a)(R,2),z=D[0].currentUserSub,B=D[1],G=B.getCurrentSubscribe,H=B.createSubscribe,P=B.deleteSubscribe,U=Object(d.useState)(!1),$=Object(o.a)(U,2),J=$[0],q=$[1],K=!!z,Q=!!E,W="https://www.youtube.com/embed/".concat(i);return Object(d.useEffect)((function(){w(i)}),[i,w]),Object(d.useEffect)((function(){c&&V(c._id,i)}),[c,i,V]),Object(d.useEffect)((function(){c&&v&&G(c._id,v.channel._id)}),[c,v,G]),"idle"===C||"pending"===C?Object(a.jsx)(g.e,{modifiers:"dark"}):"rejected"===C&&y?Object(a.jsx)(m.c,{width:"10",children:Object(a.jsx)(g.b,{severity:"error",text:y})}):"resolved"===C?Object(a.jsx)(m.c,{width:"10",className:n,children:Object(a.jsxs)("div",{className:"video",children:[Object(a.jsx)("div",{className:"video__videobox",children:Object(a.jsx)(m.t,{src:W,title:"video player"})}),Object(a.jsxs)(m.n,{flexy:"center",className:"video__titlebox",children:[Object(a.jsxs)(m.n.Item,{width:"70",children:[Object(a.jsx)(m.s,{modifiers:"medium",children:v.title}),Object(a.jsxs)(m.p,{modifiers:"small",children:[new Date(v.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})," ","\u2022 ",v.views," views"]})]}),Object(a.jsxs)(m.n.Item,{flexy:"center",children:[Object(a.jsx)(m.a,{modifiers:"transparent",pd:"0",onClick:c?function(e,t){return Object(s.a)(r.a.mark((function n(){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(Q){n.next=6;break}return n.next=3,A(e._id,t);case 3:k("add"),n.next=9;break;case 6:return n.next=8,M(e._id,t.videoId);case 8:k("delete");case 9:case"end":return n.stop()}}),n)})))}(c,v):function(){return t.push("/login")},children:Object(a.jsx)(m.h,{as:F.a,modifiers:"".concat(Q?"secondary":null)})}),Object(a.jsx)(m.r,{modifiers:["medium","regular"],children:v.likes}),Object(a.jsx)(m.a,{modifiers:["".concat(K?"disable":"primary")],className:"video__subscribebtn",onClick:c?function(e,t){return Object(s.a)(r.a.mark((function n(){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(K){n.next=6;break}return n.next=3,H(e._id,t.channel._id);case 3:I("add"),n.next=9;break;case 6:return n.next=8,P(e._id,t.channel._id);case 8:I("delete");case 9:case"end":return n.stop()}}),n)})))}(c,v):function(){return t.push("/login")},children:"Subscribe"})]})]}),Object(a.jsxs)(m.n,{modifiers:"vertical",className:"video__info",children:[Object(a.jsxs)(m.n.Item,{flexy:"center",mb:"0.5rem",children:[Object(a.jsx)(m.l,{as:b.b,flexwidth:"5",mr:"1rem",to:"/channel/".concat(v.channel._id),children:Object(a.jsx)(m.j,{children:Object(a.jsx)(m.i,{modifiers:"round",src:v.channel.image,alt:"Author image"})})}),Object(a.jsxs)("div",{children:[Object(a.jsx)(m.s,{as:"h2",modifiers:"regular",children:v.channel.title}),Object(a.jsxs)(m.r,{modifiers:"medium",children:[v.channel.subscribes," subscribers"]})]})]}),Object(a.jsxs)(m.n.Item,{children:[J?Object(a.jsx)(m.p,{modifiers:"small",children:v.description}):null,Object(a.jsx)(m.a,{modifiers:["medium","transparent"],onClick:function(){return q(!J)},children:J?"Show Less":"Show More"})]})]}),Object(a.jsx)(T,{})]})}):void 0}))(U(),j.e.tabport("\n      width: 90%;\n      "),j.e.tabport("\n      height: 45vw;\n      "))}}]);
//# sourceMappingURL=10.70d87ead.chunk.js.map