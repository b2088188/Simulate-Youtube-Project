(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[11],{332:function(e,n,t){"use strict";t.r(n);var c=t(18),r=t(13),i=t(3),a=t(0),s=t(17),o=t(37),b=t(8),d=t(26),j=t(102),l=t(147);t(47);var u=t(107),h=t(54),O=t(4),f=t(6),m=t(1),x=t(21),g=t(20),p=t(106);function v(){var e=Object(c.a)(["\n   min-height: 25rem;\n   ","\n"]);return v=function(){return e},e}var y=Object(O.c)((function(e){var n=e.video,t=e.className;return Object(i.jsx)(f.o.Item,{width:{desktop:"15",tabland:"20",tabport:"30",phone:"90"},spacing:{desktop:"2.5",tabport:"1.5",phone:"5"},className:t,children:Object(i.jsxs)(f.m,{as:g.b,to:"/watch/".concat(n.videoId),children:[Object(i.jsx)(f.j,{children:Object(i.jsx)(f.i,{src:n.images,alt:n.title})}),Object(i.jsxs)("div",{children:[Object(i.jsx)(f.t,{as:"h2",modifiers:"small",children:Object(p.b)(n.title)}),Object(i.jsx)(f.t,{as:"h3",modifiers:["small","exlight"],children:Object(p.a)(n.publishedAt)})]})]})})}))(v(),m.e.phone("\n   margin-bottom: 2.5rem;\n      ")),w=t(36),I=t(83);function _(){var e=Object(c.a)(["\n   color: #fff;\n   .channel {\n      &__info {\n         ","\n         background-image: linear-gradient(to right bottom, var(--color-primary-light), var(--color-primary-dark));\n         padding: 2rem 20%;\n         ","\n      }\n      &__titlebox {\n         margin-left: 0.5rem;\n      }\n   }\n"]);return _=function(){return e},e}n.default=Object(O.c)((function(e){var n,t=e.className,c=Object(x.c)(),O=Object(r.a)(c,1)[0].user,m=Object(s.i)().channelId,g=function(e){var n=Object(l.a)({queryKey:["channelInfo",{channelId:e}],queryFn:function(){return d.b.get("/".concat(e)).then((function(e){return e.data.data.channel})).catch((function(e){throw e.response.data}))}});return Object(b.a)(Object(b.a)({},n),{},{channel:n.data})}(m),p=g.channel,v=g.isIdle,_=g.isLoading,k=g.isSuccess,S=function(e){var n=Object(l.a)({queryKey:["channelVideos",{channelId:e}],queryFn:function(){return d.b.get("/".concat(e,"/videos")).then((function(e){return e.data.data.data})).catch((function(e){throw e.response.data}))},onSuccess:function(e){var n,t=Object(o.a)(e);try{for(t.s();!(n=t.n()).done;){var c=n.value;Object(j.a)(c)}}catch(r){t.e(r)}finally{t.f()}}});return Object(b.a)(Object(b.a)({},n),{},{channelVideos:n.data})}(m),N=S.channelVideos,q=S.isIdle,L=S.isLoading,V=S.isSuccess,F=S.isError,J=S.error,K=Object(h.a)(),A=K.isLoading,C=K.run,E=Object(u.e)(m),z=Object(u.a)(m).createSubscribe,B=Object(u.c)(m).removeSubscribe,D=Object(a.useState)(!1),G=Object(r.a)(D,2),H=G[0],M=G[1];function P(e){return function(){C(e())}}return H?Object(i.jsx)(s.a,{to:"/login"}):v||_?Object(i.jsx)(f.c,{width:"10",children:Object(i.jsx)(w.a,{})}):k?Object(i.jsxs)(f.c,{width:"10",className:t,children:[Object(i.jsxs)("div",{className:"channel__info",children:[Object(i.jsxs)(f.e,{y:"center",children:[Object(i.jsx)(f.j,{width:"7.5rem",children:Object(i.jsx)(f.i,{modifiers:"round",src:p.image})}),Object(i.jsxs)("div",{className:"channel__titlebox",children:[Object(i.jsx)(f.t,{modifiers:["medium","light"],children:p.title}),Object(i.jsxs)(f.s,{modifiers:["medium","exlight"],children:[p.subscribes," subscribers"]})]})]}),A?Object(i.jsx)(w.c,{}):Object(i.jsx)(f.a,{modifiers:["light","".concat(E?"disable":"outline")],onClick:O?P(E?function(){return B({channelId:m})}:function(){return z({channel:m})}):function(){return M(!0)},children:"Subscribed"})]}),Object(i.jsx)(f.o,{flexy:"center",wrap:"true",children:q||L?Object(i.jsx)(w.a,{}):F&&J?Object(i.jsx)(I.b,{severity:"error",text:J.message}):V?(n=N,n.map((function(e){return Object(i.jsx)(y,{video:e},e._id)}))):null})]}):void 0}))(_(),Object(m.g)({x:"space-between",y:"center"}),m.e.phone("\n            padding: .5rem 1rem;\n            "))}}]);
//# sourceMappingURL=11.3f691f22.chunk.js.map