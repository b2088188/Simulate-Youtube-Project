(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[10],{323:function(e,t,n){"use strict";n.r(t);var i=n(5),c=n(7),r=n.n(c),s=n(10),o=n(16),a=n(2),d=n(0),l=n(20),b=n(25),u=n(6),m=n(9),j=n(1),f=n(37),h=n(132),O=n(133),p=n(97),x=n(95),v=n(75),g=n(76),C=n(134),y=n(98),_=n(94),w=n(46),k=n(8),I=n(31),N=n(3),S=(n(12),n(11)),E=n(17),L=n(272),V=n(100),A=n(19),M=n(121),R=n(21),D="undefined"===typeof window?d.useEffect:d.useLayoutEffect,z=d.forwardRef((function(e,t){var n=e.alignItems,i=void 0===n?"center":n,c=e.autoFocus,r=void 0!==c&&c,s=e.button,o=void 0!==s&&s,a=e.children,l=e.classes,b=e.className,u=e.component,m=e.ContainerComponent,j=void 0===m?"li":m,f=e.ContainerProps,h=(f=void 0===f?{}:f).className,O=Object(k.a)(f,["className"]),p=e.dense,x=void 0!==p&&p,v=e.disabled,g=void 0!==v&&v,C=e.disableGutters,y=void 0!==C&&C,_=e.divider,w=void 0!==_&&_,I=e.focusVisibleClassName,E=e.selected,z=void 0!==E&&E,B=Object(k.a)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),G=d.useContext(M.a),H={dense:x||G.dense||!1,alignItems:i},P=d.useRef(null);D((function(){r&&P.current&&P.current.focus()}),[r]);var T=d.Children.toArray(a),F=T.length&&Object(V.a)(T[T.length-1],["ListItemSecondaryAction"]),U=d.useCallback((function(e){P.current=R.findDOMNode(e)}),[]),$=Object(A.a)(U,t),J=Object(N.a)({className:Object(S.a)(l.root,b,H.dense&&l.dense,!y&&l.gutters,w&&l.divider,g&&l.disabled,o&&l.button,"center"!==i&&l.alignItemsFlexStart,F&&l.secondaryAction,z&&l.selected),disabled:g},B),q=u||"li";return o&&(J.component=u||"div",J.focusVisibleClassName=Object(S.a)(l.focusVisible,I),q=L.a),F?(q=J.component||u?q:"div","li"===j&&("li"===q?q="div":"li"===J.component&&(J.component="div")),d.createElement(M.a.Provider,{value:H},d.createElement(j,Object(N.a)({className:Object(S.a)(l.container,h),ref:$},O),d.createElement(q,J,T),T.pop()))):d.createElement(M.a.Provider,{value:H},d.createElement(q,Object(N.a)({ref:$},J),T))})),B=Object(E.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(z),G=d.forwardRef((function(e,t){var n,i=e.classes,c=e.className,r=e.component,s=void 0===r?"li":r,o=e.disableGutters,a=void 0!==o&&o,l=e.ListItemClasses,b=e.role,u=void 0===b?"menuitem":b,m=e.selected,j=e.tabIndex,f=Object(k.a)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(n=void 0!==j?j:-1),d.createElement(B,Object(N.a)({button:!0,role:u,tabIndex:n,component:s,selected:m,disableGutters:a,classes:Object(N.a)({dense:i.dense},l),className:Object(S.a)(i.root,c,m&&i.selected,!a&&i.gutters),ref:t},f))})),H=Object(E.a)((function(e){return{root:Object(N.a)({},e.typography.body1,Object(I.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Object(N.a)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(G),P=n(40),T=Object(P.a)(d.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");function F(){var e=Object(i.a)(["\n   &:not(:last-child) {\n      margin-bottom: 3rem;\n   }\n"]);return F=function(){return e},e}var U=Object(u.c)((function(e){var t=e.comment,n=e.setCurrentTypedComment,i=e.className,c=Object(d.useState)(!1),r=Object(o.a)(c,2),s=r[0],b=r[1],u=Object(f.b)().user,j=Object(y.b)().deleteComment,h=Object(l.h)().videoId,O=Object(d.useRef)(null);return Object(a.jsxs)(m.n,{flexy:"center",className:i,children:[Object(a.jsx)(m.n.Item,{width:"5",children:Object(a.jsx)(m.j,{children:Object(a.jsx)(m.i,{modifiers:"round",src:"".concat("https://simulate-youtube-project.herokuapp.com","/").concat(t.user.photo),alt:"User Image"})})}),Object(a.jsxs)(m.n.Item,{width:"85",spacing:"2.5",children:[Object(a.jsx)(m.p,{modifiers:["small","bold"],children:t.user.name}),Object(a.jsx)(m.p,{modifiers:"small",children:t.comment})]}),u&&u._id===t.user._id?function(e){return Object(a.jsxs)(m.n.Item,{children:[Object(a.jsx)(m.a,{ref:O,onClick:function(){return b((function(e){return!e}))},modifiers:"transparent",children:Object(a.jsx)(m.h,{as:T})}),Object(a.jsxs)(w.a,{open:s,setOpen:b,anchorRef:O,children:[Object(a.jsx)(H,{onClick:function(){return n(e)},children:"Edit"}),Object(a.jsx)(H,{onClick:(t=e._id,function(){j(h,t)}),children:"Delete"})]})]});var t}(t):null]})}))(F());function $(){var e=Object(i.a)(["\n   margin-top: 5rem;\n\n   .comment {\n      &__form {\n         margin: 3rem 0;\n      }\n\n      &__submitbox {\n         margin-top: 1rem;\n         display: flex;\n         justify-content: flex-end;\n      }\n   }\n"]);return $=function(){return e},e}var J=Object(u.c)((function(e){var t,n=e.className,i=Object(f.b)().user,c=Object(C.b)(),b=c.comments,u=c.statusComments,j=c.errorComments,h=Object(_.a)(),O=h.register,p=h.handleSubmit,x=h.setValue,v=h.reset,g=Object(y.b)(),k=g.getVideoComments,I=g.createComment,N=g.updateComment,S=Object(d.useState)(null),E=Object(o.a)(S,2),L=E[0],V=E[1],A=Object(l.h)().videoId;function M(){return(M=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I(A,t),V(null);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(d.useEffect)((function(){k(A)}),[k,A]),Object(d.useEffect)((function(){L&&x("comment",L.comment)}),[L,x]),"idle"===u||"pending"===u?Object(a.jsx)(m.e,{children:Object(a.jsx)(w.e,{modifiers:"dark"})}):"rejected"===u&&j?Object(a.jsx)(w.b,{severity:"error",text:j}):"resolved"===u?Object(a.jsxs)("div",{className:n,children:[i?Object(a.jsxs)(m.f,{className:"comment__form",onSubmit:p(L?function(e){N(A,L._id,e),V(null)}:function(e){return M.apply(this,arguments)}),children:[Object(a.jsx)(m.f.Input,{modifiers:"transparent",type:"text",name:"comment",placeholder:"Add a public comment...",ref:O({required:"Please type your comment"})}),Object(a.jsxs)("div",{className:"comment__submitbox",children:[Object(a.jsx)(m.a,{onClick:function(){v(),V(null)},children:"Cancel"}),Object(a.jsx)(m.a,{modifiers:"secondary",children:"Comment"})]})]}):null,Object(a.jsx)("div",{children:(t=b,null===t||void 0===t?void 0:t.map((function(e){return Object(a.jsx)(U,{comment:e,setCurrentTypedComment:V},e._id)})))})]}):void 0}))($()),q=n(303);function K(){var e=Object(i.a)(["\n   .video {\n      width: 80%;\n      margin: 0 auto;\n      padding: 2rem 0rem;\n      ","\n\n      &__videobox {\n         box-shadow: var(--shadow-dark-shallow);\n         height: 37.5vw;\n         ","\n      }\n\n      &__titlebox {\n         border-bottom: solid 0.1rem #000;\n         padding: 2rem 1rem;\n      }\n\n      &__subscribebtn {\n         flex: 0 0 15%;\n         margin-left: 2.5%;\n      }\n\n      &__info {\n         padding: 2rem 0;\n         border-bottom: solid 0.1rem #000;\n      }\n   }\n"]);return K=function(){return e},e}t.default=Object(u.c)((function(e){var t=e.history,n=e.className,i=Object(f.b)().user,c=Object(l.h)().videoId,u=Object(h.b)(),j=u.video,C=u.statusVideo,y=u.errorVideo,_=Object(O.b)(),k=_.getVideoById,I=_.videoLikeHandle,N=_.videoSubscribeHandle,S=Object(p.b)().currentUserLike,E=Object(x.b)(),L=E.getCurrentLike,V=E.createLike,A=E.deleteLike,M=Object(g.b)(),R=M.getCurrentSubscribe,D=M.createSubscribe,z=M.deleteSubscribe,B=Object(v.b)().currentUserSub,G=Object(d.useState)(!1),H=Object(o.a)(G,2),P=H[0],T=H[1],F=!!B,U=!!S,$="https://www.youtube.com/embed/".concat(c);return Object(d.useEffect)((function(){k(c)}),[c,k]),Object(d.useEffect)((function(){i&&L(i._id,c)}),[i,c,L]),Object(d.useEffect)((function(){i&&j&&R(i._id,j.channel._id)}),[i,j,R]),"idle"===C||"pending"===C?Object(a.jsx)(w.e,{modifiers:"dark"}):"rejected"===C&&y?Object(a.jsx)(m.c,{width:"10",children:Object(a.jsx)(w.b,{severity:"error",text:y})}):"resolved"===C?Object(a.jsx)(m.c,{width:"10",className:n,children:Object(a.jsxs)("div",{className:"video",children:[Object(a.jsx)("div",{className:"video__videobox",children:Object(a.jsx)(m.t,{src:$,title:"video player"})}),Object(a.jsxs)(m.n,{flexy:"center",className:"video__titlebox",children:[Object(a.jsxs)(m.n.Item,{width:"70",children:[Object(a.jsx)(m.s,{modifiers:"medium",children:j.title}),Object(a.jsxs)(m.p,{modifiers:"small",children:[new Date(j.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})," ","\u2022 ",j.views," views"]})]}),Object(a.jsxs)(m.n.Item,{flexy:"center",children:[Object(a.jsx)(m.a,{modifiers:"transparent",pd:"0",onClick:i?function(e,t){return Object(s.a)(r.a.mark((function n(){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(U){n.next=6;break}return n.next=3,V(e._id,t);case 3:I("add"),n.next=9;break;case 6:return n.next=8,A(e._id,t.videoId);case 8:I("delete");case 9:case"end":return n.stop()}}),n)})))}(i,j):function(){return t.push("/login")},children:Object(a.jsx)(m.h,{as:q.a,modifiers:"".concat(U?"secondary":null)})}),Object(a.jsx)(m.r,{modifiers:["medium","regular"],children:j.likes}),Object(a.jsx)(m.a,{modifiers:["".concat(F?"disable":"primary")],className:"video__subscribebtn",onClick:i?function(e,t){return Object(s.a)(r.a.mark((function n(){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(F){n.next=6;break}return n.next=3,D(e._id,t.channel._id);case 3:N("add"),n.next=9;break;case 6:return n.next=8,z(e._id,t.channel._id);case 8:N("delete");case 9:case"end":return n.stop()}}),n)})))}(i,j):function(){return t.push("/login")},children:"Subscribe"})]})]}),Object(a.jsxs)(m.n,{modifiers:"vertical",className:"video__info",children:[Object(a.jsxs)(m.n.Item,{flexy:"center",mb:"0.5rem",children:[Object(a.jsx)(m.l,{as:b.b,flexwidth:"5",mr:"1rem",to:"/channel/".concat(j.channel._id),children:Object(a.jsx)(m.j,{children:Object(a.jsx)(m.i,{modifiers:"round",src:j.channel.image,alt:"Author image"})})}),Object(a.jsxs)("div",{children:[Object(a.jsx)(m.s,{as:"h2",modifiers:"regular",children:j.channel.title}),Object(a.jsxs)(m.r,{modifiers:"medium",children:[j.channel.subscribes," subscribers"]})]})]}),Object(a.jsxs)(m.n.Item,{children:[P?Object(a.jsx)(m.p,{modifiers:"small",children:j.description}):null,Object(a.jsx)(m.a,{modifiers:["medium","transparent"],onClick:function(){return T(!P)},children:P?"Show Less":"Show More"})]})]}),Object(a.jsx)(J,{})]})}):void 0}))(K(),j.e.tabport("\n      width: 90%;\n      "),j.e.tabport("\n      height: 45vw;\n      "))}}]);
//# sourceMappingURL=10.1a104626.chunk.js.map