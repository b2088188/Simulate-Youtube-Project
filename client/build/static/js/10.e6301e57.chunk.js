(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[10],{319:function(e,t,n){"use strict";n.r(t);var c=n(5),i=n(7),r=n.n(i),s=n(10),o=n(15),a=n(2),d=n(0),l=n(20),b=n(25),u=n(6),m=n(9),j=n(1),f=n(37),h=n(93),O=n(101),p=n(99),x=n(75),v=n(76),g=n(90),C=n(98),y=n(46),_=n(8),w=n(31),k=n(3),I=(n(12),n(11)),N=n(17),S=n(268),E=n(103),L=n(19),V=n(124),A=n(21),M="undefined"===typeof window?d.useEffect:d.useLayoutEffect,R=d.forwardRef((function(e,t){var n=e.alignItems,c=void 0===n?"center":n,i=e.autoFocus,r=void 0!==i&&i,s=e.button,o=void 0!==s&&s,a=e.children,l=e.classes,b=e.className,u=e.component,m=e.ContainerComponent,j=void 0===m?"li":m,f=e.ContainerProps,h=(f=void 0===f?{}:f).className,O=Object(_.a)(f,["className"]),p=e.dense,x=void 0!==p&&p,v=e.disabled,g=void 0!==v&&v,C=e.disableGutters,y=void 0!==C&&C,w=e.divider,N=void 0!==w&&w,R=e.focusVisibleClassName,D=e.selected,z=void 0!==D&&D,B=Object(_.a)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),G=d.useContext(V.a),H={dense:x||G.dense||!1,alignItems:c},P=d.useRef(null);M((function(){r&&P.current&&P.current.focus()}),[r]);var T=d.Children.toArray(a),F=T.length&&Object(E.a)(T[T.length-1],["ListItemSecondaryAction"]),U=d.useCallback((function(e){P.current=A.findDOMNode(e)}),[]),$=Object(L.a)(U,t),J=Object(k.a)({className:Object(I.a)(l.root,b,H.dense&&l.dense,!y&&l.gutters,N&&l.divider,g&&l.disabled,o&&l.button,"center"!==c&&l.alignItemsFlexStart,F&&l.secondaryAction,z&&l.selected),disabled:g},B),q=u||"li";return o&&(J.component=u||"div",J.focusVisibleClassName=Object(I.a)(l.focusVisible,R),q=S.a),F?(q=J.component||u?q:"div","li"===j&&("li"===q?q="div":"li"===J.component&&(J.component="div")),d.createElement(V.a.Provider,{value:H},d.createElement(j,Object(k.a)({className:Object(I.a)(l.container,h),ref:$},O),d.createElement(q,J,T),T.pop()))):d.createElement(V.a.Provider,{value:H},d.createElement(q,Object(k.a)({ref:$},J),T))})),D=Object(N.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(R),z=d.forwardRef((function(e,t){var n,c=e.classes,i=e.className,r=e.component,s=void 0===r?"li":r,o=e.disableGutters,a=void 0!==o&&o,l=e.ListItemClasses,b=e.role,u=void 0===b?"menuitem":b,m=e.selected,j=e.tabIndex,f=Object(_.a)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(n=void 0!==j?j:-1),d.createElement(D,Object(k.a)({button:!0,role:u,tabIndex:n,component:s,selected:m,disableGutters:a,classes:Object(k.a)({dense:c.dense},l),className:Object(I.a)(c.root,i,m&&c.selected,!a&&c.gutters),ref:t},f))})),B=Object(N.a)((function(e){return{root:Object(k.a)({},e.typography.body1,Object(w.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Object(k.a)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(z),G=n(40),H=Object(G.a)(d.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");function P(){var e=Object(c.a)(["\n   &:not(:last-child) {\n      margin-bottom: 3rem;\n   }\n"]);return P=function(){return e},e}var T=Object(u.c)((function(e){var t=e.comment,n=e.setCurrentTypedComment,c=e.className,i=Object(d.useState)(!1),r=Object(o.a)(i,2),s=r[0],b=r[1],u=Object(f.b)().user,j=Object(g.c)(),h=Object(o.a)(j,2)[1].deleteComment,O=Object(l.h)().videoId,p=Object(d.useRef)(null);return Object(a.jsxs)(m.n,{flexy:"center",className:c,children:[Object(a.jsx)(m.n.Item,{width:"5",children:Object(a.jsx)(m.j,{children:Object(a.jsx)(m.i,{modifiers:"round",src:"".concat("https://simulate-youtube-project.herokuapp.com","/").concat(t.user.photo),alt:"User Image"})})}),Object(a.jsxs)(m.n.Item,{width:"85",spacing:"2.5",children:[Object(a.jsx)(m.p,{modifiers:["small","bold"],children:t.user.name}),Object(a.jsx)(m.p,{modifiers:"small",children:t.comment})]}),u&&u._id===t.user._id?function(e){return Object(a.jsxs)(m.n.Item,{children:[Object(a.jsx)(m.a,{ref:p,onClick:function(){return b((function(e){return!e}))},modifiers:"transparent",children:Object(a.jsx)(m.h,{as:H})}),Object(a.jsxs)(y.a,{open:s,setOpen:b,anchorRef:p,children:[Object(a.jsx)(B,{onClick:function(){return n(e)},children:"Edit"}),Object(a.jsx)(B,{onClick:(t=e._id,function(){h(O,t)}),children:"Delete"})]})]});var t}(t):null]})}))(P());function F(){var e=Object(c.a)(["\n   margin-top: 5rem;\n\n   .comment {\n      &__form {\n         margin: 3rem 0;\n      }\n\n      &__submitbox {\n         margin-top: 1rem;\n         display: flex;\n         justify-content: flex-end;\n      }\n   }\n"]);return F=function(){return e},e}var U=Object(u.c)((function(e){var t,n=e.className,c=Object(f.b)().user,i=Object(g.c)(),b=Object(o.a)(i,2),u=b[0],j=u.comments,h=u.statusComments,O=u.errorComments,p=b[1],x=p.getVideoComments,v=p.createComment,_=p.updateComment,w=Object(C.a)(),k=w.register,I=w.handleSubmit,N=w.setValue,S=w.reset,E=Object(d.useState)(null),L=Object(o.a)(E,2),V=L[0],A=L[1],M=Object(l.h)().videoId;function R(){return(R=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(M,t),A(null);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(d.useEffect)((function(){x(M)}),[x,M]),Object(d.useEffect)((function(){V&&N("comment",V.comment)}),[V,N]),"idle"===h||"pending"===h?Object(a.jsx)(m.e,{children:Object(a.jsx)(y.e,{modifiers:"dark"})}):"rejected"===h&&O?Object(a.jsx)(y.b,{severity:"error",text:O}):"resolved"===h?Object(a.jsxs)("div",{className:n,children:[c?Object(a.jsxs)(m.f,{className:"comment__form",onSubmit:I(V?function(e){_(M,V._id,e),A(null)}:function(e){return R.apply(this,arguments)}),children:[Object(a.jsx)(m.f.Input,{modifiers:"transparent",type:"text",name:"comment",placeholder:"Add a public comment...",ref:k({required:"Please type your comment"})}),Object(a.jsxs)("div",{className:"comment__submitbox",children:[Object(a.jsx)(m.a,{onClick:function(){S(),A(null)},children:"Cancel"}),Object(a.jsx)(m.a,{modifiers:"secondary",children:"Comment"})]})]}):null,Object(a.jsx)("div",{children:(t=j,null===t||void 0===t?void 0:t.map((function(e){return Object(a.jsx)(T,{comment:e,setCurrentTypedComment:A},e._id)})))})]}):void 0}))(F()),$=n(299);function J(){var e=Object(c.a)(["\n   .video {\n      width: 80%;\n      margin: 0 auto;\n      padding: 2rem 0rem;\n      ","\n\n      &__videobox {\n         box-shadow: var(--shadow-dark-shallow);\n         height: 37.5vw;\n         ","\n      }\n\n      &__titlebox {\n         border-bottom: solid 0.1rem #000;\n         padding: 2rem 1rem;\n      }\n\n      &__subscribebtn {\n         flex: 0 0 15%;\n         margin-left: 2.5%;\n      }\n\n      &__info {\n         padding: 2rem 0;\n         border-bottom: solid 0.1rem #000;\n      }\n   }\n"]);return J=function(){return e},e}t.default=Object(u.c)((function(e){var t=e.history,n=e.className,c=Object(f.b)().user,i=Object(l.h)().videoId,u=Object(h.c)(),j=Object(o.a)(u,2),g=j[0],C=g.video,_=g.statusVideo,w=g.errorVideo,k=j[1],I=k.getVideoById,N=k.videoLikeHandle,S=k.videoSubscribeHandle,E=Object(O.b)().currentUserLike,L=Object(p.b)(),V=L.getCurrentLike,A=L.createLike,M=L.deleteLike,R=Object(v.b)(),D=R.getCurrentSubscribe,z=R.createSubscribe,B=R.deleteSubscribe,G=Object(x.b)().currentUserSub,H=Object(d.useState)(!1),P=Object(o.a)(H,2),T=P[0],F=P[1],J=!!G,q=!!E,K="https://www.youtube.com/embed/".concat(i);return Object(d.useEffect)((function(){I(i)}),[i,I]),Object(d.useEffect)((function(){c&&V(c._id,i)}),[c,i,V]),Object(d.useEffect)((function(){c&&C&&D(c._id,C.channel._id)}),[c,C,D]),"idle"===_||"pending"===_?Object(a.jsx)(y.e,{modifiers:"dark"}):"rejected"===_&&w?Object(a.jsx)(m.c,{width:"10",children:Object(a.jsx)(y.b,{severity:"error",text:w})}):"resolved"===_?Object(a.jsx)(m.c,{width:"10",className:n,children:Object(a.jsxs)("div",{className:"video",children:[Object(a.jsx)("div",{className:"video__videobox",children:Object(a.jsx)(m.t,{src:K,title:"video player"})}),Object(a.jsxs)(m.n,{flexy:"center",className:"video__titlebox",children:[Object(a.jsxs)(m.n.Item,{width:"70",children:[Object(a.jsx)(m.s,{modifiers:"medium",children:C.title}),Object(a.jsxs)(m.p,{modifiers:"small",children:[new Date(C.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})," ","\u2022 ",C.views," views"]})]}),Object(a.jsxs)(m.n.Item,{flexy:"center",children:[Object(a.jsx)(m.a,{modifiers:"transparent",pd:"0",onClick:c?function(e,t){return Object(s.a)(r.a.mark((function n(){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(q){n.next=6;break}return n.next=3,A(e._id,t);case 3:N("add"),n.next=9;break;case 6:return n.next=8,M(e._id,t.videoId);case 8:N("delete");case 9:case"end":return n.stop()}}),n)})))}(c,C):function(){return t.push("/login")},children:Object(a.jsx)(m.h,{as:$.a,modifiers:"".concat(q?"secondary":null)})}),Object(a.jsx)(m.r,{modifiers:["medium","regular"],children:C.likes}),Object(a.jsx)(m.a,{modifiers:["".concat(J?"disable":"primary")],className:"video__subscribebtn",onClick:c?function(e,t){return Object(s.a)(r.a.mark((function n(){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(J){n.next=6;break}return n.next=3,z(e._id,t.channel._id);case 3:S("add"),n.next=9;break;case 6:return n.next=8,B(e._id,t.channel._id);case 8:S("delete");case 9:case"end":return n.stop()}}),n)})))}(c,C):function(){return t.push("/login")},children:"Subscribe"})]})]}),Object(a.jsxs)(m.n,{modifiers:"vertical",className:"video__info",children:[Object(a.jsxs)(m.n.Item,{flexy:"center",mb:"0.5rem",children:[Object(a.jsx)(m.l,{as:b.b,flexwidth:"5",mr:"1rem",to:"/channel/".concat(C.channel._id),children:Object(a.jsx)(m.j,{children:Object(a.jsx)(m.i,{modifiers:"round",src:C.channel.image,alt:"Author image"})})}),Object(a.jsxs)("div",{children:[Object(a.jsx)(m.s,{as:"h2",modifiers:"regular",children:C.channel.title}),Object(a.jsxs)(m.r,{modifiers:"medium",children:[C.channel.subscribes," subscribers"]})]})]}),Object(a.jsxs)(m.n.Item,{children:[T?Object(a.jsx)(m.p,{modifiers:"small",children:C.description}):null,Object(a.jsx)(m.a,{modifiers:["medium","transparent"],onClick:function(){return F(!T)},children:T?"Show Less":"Show More"})]})]}),Object(a.jsx)(U,{})]})}):void 0}))(J(),j.e.tabport("\n      width: 90%;\n      "),j.e.tabport("\n      height: 45vw;\n      "))}}]);
//# sourceMappingURL=10.e6301e57.chunk.js.map